{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\leona\\\\Desktop\\\\leoflix\\\\src\\\\pages\\\\cadastro\\\\Video\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport PageDefault from '../../../components/PageDefault';\nimport FormField from '../../../components/FormField';\nimport useForm from '../../../hooks/useForms';\nimport Button from '../../../components/Button';\nimport videosRepository from '../../../repositories/videos';\nimport categoriasRepository from '../../../repositories/categorias';\n\nfunction CadastroVideo() {\n  const history = useHistory();\n  const [categorias, setCategorias] = useState([]);\n  const categoryTitles = categorias.map(({\n    titulo\n  }) => titulo);\n  const {\n    handleChange,\n    values\n  } = useForm({\n    titulo: 'Video padrão',\n    url: 'https://www.youtube.com/watch?v=jOAU81jdi-c',\n    categoria: 'Front End'\n  });\n  useEffect(() => {\n    categoriasRepository.getAll().then(categoriasFromServer => {\n      setCategorias(categoriasFromServer);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(PageDefault, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Cadastro de Video\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault(); // alert('Video Cadastrado com sucesso! XD');\n      // eslint-disable-next-line max-len\n\n      const categoriaEscolhida = categorias.find(categoria => categoria.titulo === values.categoria);\n      videosRepository.create({\n        titulo: values.titulo,\n        url: values.url,\n        categoriaId: categoriaEscolhida.id\n      }).then(() => {\n        history.push('/');\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormField, {\n    label: \"Titulo do V\\xEDdeo\",\n    name: \"titulo\",\n    value: values.titulo,\n    onChange: handleChange,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormField, {\n    label: \"URL\",\n    name: \"url\",\n    value: values.url,\n    onChange: handleChange,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormField, {\n    label: \"Categoria\",\n    name: \"categoria\",\n    value: values.categoria,\n    onChange: handleChange,\n    type: \"text\",\n    suggestions: titulo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Cadastrar\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/cadastro/categoria\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Cadastro de categoria\"));\n}\n\nexport default CadastroVideo;","map":{"version":3,"sources":["C:/Users/leona/Desktop/leoflix/src/pages/cadastro/Video/index.js"],"names":["React","useEffect","useState","Link","useHistory","PageDefault","FormField","useForm","Button","videosRepository","categoriasRepository","CadastroVideo","history","categorias","setCategorias","categoryTitles","map","titulo","handleChange","values","url","categoria","getAll","then","categoriasFromServer","event","preventDefault","categoriaEscolhida","find","create","categoriaId","id","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;AACA,OAAOC,oBAAP,MAAiC,kCAAjC;;AAEA,SAASC,aAAT,GAAyB;AACvB,QAAMC,OAAO,GAAGR,UAAU,EAA1B;AACA,QAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAMa,cAAc,GAAGF,UAAU,CAACG,GAAX,CAAe,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAgBA,MAA/B,CAAvB;AACA,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAA2BZ,OAAO,CAAC;AACvCU,IAAAA,MAAM,EAAE,cAD+B;AAEvCG,IAAAA,GAAG,EAAE,6CAFkC;AAGvCC,IAAAA,SAAS,EAAE;AAH4B,GAAD,CAAxC;AAMApB,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,oBAAoB,CACjBY,MADH,GAEGC,IAFH,CAESC,oBAAD,IAA0B;AAC9BV,MAAAA,aAAa,CAACU,oBAAD,CAAb;AACD,KAJH;AAKD,GANQ,EAMN,EANM,CAAT;AAQA,sBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAGE;AAAM,IAAA,QAAQ,EAAGC,KAAD,IAAW;AACzBA,MAAAA,KAAK,CAACC,cAAN,GADyB,CAEzB;AAEA;;AACA,YAAMC,kBAAkB,GAAGd,UAAU,CAACe,IAAX,CAAiBP,SAAD,IAAeA,SAAS,CAACJ,MAAV,KAAqBE,MAAM,CAACE,SAA3D,CAA3B;AAEAZ,MAAAA,gBAAgB,CAACoB,MAAjB,CAAwB;AACtBZ,QAAAA,MAAM,EAAEE,MAAM,CAACF,MADO;AAEtBG,QAAAA,GAAG,EAAED,MAAM,CAACC,GAFU;AAGtBU,QAAAA,WAAW,EAAEH,kBAAkB,CAACI;AAHV,OAAxB,EAKGR,IALH,CAKQ,MAAM;AACVX,QAAAA,OAAO,CAACoB,IAAR,CAAa,GAAb;AACD,OAPH;AAQD,KAfD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAiBE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,oBADR;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,KAAK,EAAEb,MAAM,CAACF,MAHhB;AAIE,IAAA,QAAQ,EAAEC,YAJZ;AAKE,IAAA,IAAI,EAAC,MALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,eAyBE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,KADR;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,KAAK,EAAEC,MAAM,CAACC,GAHhB;AAIE,IAAA,QAAQ,EAAEF,YAJZ;AAKE,IAAA,IAAI,EAAC,MALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBF,eAiCE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,WADR;AAEE,IAAA,IAAI,EAAC,WAFP;AAGE,IAAA,KAAK,EAAEC,MAAM,CAACE,SAHhB;AAIE,IAAA,QAAQ,EAAEH,YAJZ;AAKE,IAAA,IAAI,EAAC,MALP;AAME,IAAA,WAAW,EAAED,MANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjCF,eA0CE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA1CF,CAHF,eAmDE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,qBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAnDF,CADF;AAyDD;;AACD,eAAeN,aAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport PageDefault from '../../../components/PageDefault';\r\nimport FormField from '../../../components/FormField';\r\nimport useForm from '../../../hooks/useForms';\r\nimport Button from '../../../components/Button';\r\nimport videosRepository from '../../../repositories/videos';\r\nimport categoriasRepository from '../../../repositories/categorias';\r\n\r\nfunction CadastroVideo() {\r\n  const history = useHistory();\r\n  const [categorias, setCategorias] = useState([]);\r\n  const categoryTitles = categorias.map(({ titulo }) => titulo);\r\n  const { handleChange, values } = useForm({\r\n    titulo: 'Video padrão',\r\n    url: 'https://www.youtube.com/watch?v=jOAU81jdi-c',\r\n    categoria: 'Front End',\r\n  });\r\n\r\n  useEffect(() => {\r\n    categoriasRepository\r\n      .getAll()\r\n      .then((categoriasFromServer) => {\r\n        setCategorias(categoriasFromServer);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <PageDefault>\r\n      <h1>Cadastro de Video</h1>\r\n\r\n      <form onSubmit={(event) => {\r\n        event.preventDefault();\r\n        // alert('Video Cadastrado com sucesso! XD');\r\n\r\n        // eslint-disable-next-line max-len\r\n        const categoriaEscolhida = categorias.find((categoria) => categoria.titulo === values.categoria);\r\n\r\n        videosRepository.create({\r\n          titulo: values.titulo,\r\n          url: values.url,\r\n          categoriaId: categoriaEscolhida.id,\r\n        })\r\n          .then(() => {\r\n            history.push('/');\r\n          });\r\n      }}\r\n      >\r\n        <FormField\r\n          label=\"Titulo do Vídeo\"\r\n          name=\"titulo\"\r\n          value={values.titulo}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n        />\r\n\r\n        <FormField\r\n          label=\"URL\"\r\n          name=\"url\"\r\n          value={values.url}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n        />\r\n\r\n        <FormField\r\n          label=\"Categoria\"\r\n          name=\"categoria\"\r\n          value={values.categoria}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          suggestions={titulo}\r\n        />\r\n\r\n        <Button type=\"submit\">\r\n          Cadastrar\r\n        </Button>\r\n\r\n      </form>\r\n\r\n      <Link to=\"/cadastro/categoria\">\r\n        Cadastro de categoria\r\n      </Link>\r\n    </PageDefault>\r\n  );\r\n}\r\nexport default CadastroVideo;\r\n"]},"metadata":{},"sourceType":"module"}